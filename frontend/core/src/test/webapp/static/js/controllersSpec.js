// Generated by CoffeeScript 1.4.0
(function() {
  "use strict";
  
	describe("controllers", function()
	{
    	var scope, ctrl, $httpBackend;
    	
    	beforeEach(inject(function(_$httpBackend_, $rootScope, $controller)
		{
      		$httpBackend = _$httpBackend_;
      		$httpBackend.expectGET('static/test/json/latest.json').
				respond([{title: "Why it's great to be a nerd"}, {title: "Avocado pasta"}]);
 
      		scope = $rootScope.$new();
      		ctrl = $controller(HomeCtrl, {$scope: scope});
		}));
    	
    	describe("latest", function()
    	{    	
	  		it('should create "latest" model with 2 articles fetched from xhr', function()
	 		{
	 			expect(scope.latest).toEqual(undefined);
      			$httpBackend.flush();

				console.log(scope.latest[0].title);
      			expect(scope.latest[0].title).toEqual("Why it's great to be a nerd");
    		});
 		});
	});  	
}).call(this);
